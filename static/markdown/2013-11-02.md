<!---title:拼写纠正-->
<!---keywords:奋斗史,青春,三年奋斗,五年奋斗-->

接上一篇贝叶斯的介绍，继续说下拼写纠正。
关于拼写纠正的文章已有不少，刘未鹏，阮一峰写得很深入浅出，行文引经据典，难得的是亦俗亦雅。但，这不会成为我放弃写此文的借口，我们都是在学习已有的知识，某种程度上来说，这是必然的，正如学好数学的前提是你要知识公理，才有定理，方有推论，猜想。
回来说下拼写纠正的主题上，怎么做到拼写纠正？如当我在搜索引擎上输入"happh"搜索出来的结果是

![google输入"happh"搜索](/static/images/upload/20140413215348.jpg)

贝叶斯应用能做出较为准确的判断，必不可少的一个因素就是训练库，判断都是基于训练库得出的概率而推算出来。前面说到的垃圾邮件过滤能高效判断是因为人手工把垃圾邮件和正常邮件给筛选出来作为训练库，以后每一封邮件判断归类后也会加入训练库，增强训练库。

而拼写纠正也是如此。

**第一步：准备一个比较大的训练样本。可以选择《和平与战争》名著之类的电子书。**
用户输入一个单词，会出现两种情况，情况一：该单词在训练样本中，情况二：不在训练样本中。情况一也可分两种可能，可能一：用户输入了他想输入的单词;可能二：用户误输入了另外一个单词（后面处理这种情况）。对此情况一，我们暂时可以看作用户输入是正确的。对于情况二，用户输入了一个不在训练样本中的单词，无论是用户误输入，还是单词少见。当任何东西都不足以相信的时候，只有选择一个标准来相信，首先我们要相信训练样本。

**第二步：统计单词出现的次数。**

**第三步：实现一个单词变形算法，对输入的单词进行编辑处理得到相近的单词。**  
输入 happh 的时候，训练样品中无单词时，我们就需要判断样品中那个单词与这个 happh 相匹配的概率最大。首先，一种可能是用户记忆模糊，另一种可能是输入的时候大手指按错了，后面情况就是判断权重问题了。

一个单词的变形有多少种可能？
a.多输入了一个字母（当然也可能是两个字母，暂处理编辑距离为1）
b.少输入了一个字母
c.相邻两个字母位置对换
d.某个字母记错了

一个单词的长度为n，经过变形后可得到多少个相近单词，计算
a.n
b.(n+1)*26
c.n-1
d.n*26
最后得到形近单词：54n + 25

**第四步：取形近单词在样品中出现次数，并排序。**
到这已经能得到结果了，效果上个图吧，验证下。

![happh拼写纠正](/static/images/upload/20140413215430.jpg)

![away拼写纠正](/static/images/upload/20140413215434.png)



